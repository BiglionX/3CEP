# ğŸ“ A5ä»»åŠ¡å®ŒæˆæŠ¥å‘Šï¼šAIç”Ÿæˆè‰ç¨¿äººå·¥ä¿®æ­£

## âœ… ä»»åŠ¡å®Œæˆæƒ…å†µ

**ä»»åŠ¡A5ï¼šAI ç”Ÿæˆè‰ç¨¿äººå·¥ä¿®æ­£**
- ç›®æ ‡ï¼šåœ¨å‘å¸ƒå‰ï¼Œç®¡ç†å‘˜å¯æ‰‹åŠ¨ä¿®æ­£ AI ç”Ÿæˆçš„è‰ç¨¿å†…å®¹
- çŠ¶æ€ï¼š**å·²å®Œæˆ** âœ…

## ğŸ¯ å®ç°åŠŸèƒ½

### 1. çƒ­ç‚¹é“¾æ¥å®¡æ ¸é¡µé¢å¢å¼º
- **æ–‡ä»¶**: `src/app/admin/links/pending/page.tsx`
- **å˜æ›´**: åœ¨æ“ä½œåˆ—æ·»åŠ "ç¼–è¾‘è‰ç¨¿"æŒ‰é’®ï¼ˆä½¿ç”¨Edit3å›¾æ ‡ï¼‰
- **åŠŸèƒ½**: ç‚¹å‡»åè°ƒç”¨APIåˆ›å»ºè‰ç¨¿å¹¶è·³è½¬åˆ°ç¼–è¾‘é¡µé¢

### 2. æ–‡ç« ç¼–è¾‘å™¨ç»„ä»¶
- **æ–‡ä»¶**: `src/components/admin/ArticleEditor.tsx`
- **åŠŸèƒ½**:
  - å®Œæ•´çš„æ–‡ç« ç¼–è¾‘åŠŸèƒ½ï¼ˆæ ‡é¢˜ã€å†…å®¹ã€æ‘˜è¦ï¼‰
  - å°é¢å›¾ç‰‡ä¸Šä¼ å’Œé¢„è§ˆ
  - æ ‡ç­¾ç®¡ç†ï¼ˆæ·»åŠ /åˆ é™¤ï¼‰
  - åˆ†ç±»é€‰æ‹©
  - ä¿å­˜è‰ç¨¿å’Œå‘å¸ƒæ–‡ç« åŒé‡åŠŸèƒ½
  - é”™è¯¯æç¤ºå’Œç”¨æˆ·åé¦ˆ

### 3. è‰ç¨¿åˆ›å»ºAPI
- **æ–‡ä»¶**: `src/app/api/admin/articles/drafts/route.ts`
- **åŠŸèƒ½**:
  - POSTæ–¹æ³•ï¼šåˆ›å»ºæ–°çš„è‰ç¨¿æ–‡ç« 
  - GETæ–¹æ³•ï¼šè·å–æ–‡ç« åˆ†ç±»åˆ—è¡¨
  - è‡ªåŠ¨å…³è”çƒ­ç‚¹é“¾æ¥ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
  - å®Œæ•´çš„æ•°æ®éªŒè¯å’Œé”™è¯¯å¤„ç†

### 4. æ–‡ç« ç¼–è¾‘é¡µé¢
- **æ–‡ä»¶**: `src/app/admin/articles/edit/[id]/page.tsx`
- **åŠŸèƒ½**:
  - æ”¯æŒç¼–è¾‘ç°æœ‰æ–‡ç« 
  - æ”¯æŒåˆ›å»ºæ–°è‰ç¨¿
  - å®æ—¶ä¿å­˜å’Œå‘å¸ƒåŠŸèƒ½
  - åŠ è½½çŠ¶æ€å’Œé”™è¯¯å¤„ç†

### 5. è¾…åŠ©ç»„ä»¶
- **æ–‡ä»¶**: `src/components/ui/textarea.tsx`
- **åŠŸèƒ½**: åˆ›å»ºæ ‡å‡†çš„æ–‡æœ¬åŸŸUIç»„ä»¶

## ğŸ”„ å·¥ä½œæµç¨‹

```
1. ç®¡ç†å‘˜è®¿é—®çƒ­ç‚¹é“¾æ¥å®¡æ ¸é¡µé¢ (/admin/links/pending)
2. ç‚¹å‡»ä»»ä¸€é“¾æ¥çš„"ç¼–è¾‘è‰ç¨¿"æŒ‰é’®
3. ç³»ç»Ÿè°ƒç”¨APIåˆ›å»ºè‰ç¨¿æ–‡ç« 
4. è‡ªåŠ¨è·³è½¬åˆ°æ–‡ç« ç¼–è¾‘é¡µé¢ (/admin/articles/edit/[articleId])
5. ç®¡ç†å‘˜å¯ä»¥ï¼š
   - ä¿®æ”¹æ–‡ç« æ ‡é¢˜ã€å†…å®¹ã€æ‘˜è¦
   - ä¸Šä¼ /ä¿®æ”¹å°é¢å›¾ç‰‡
   - æ·»åŠ /åˆ é™¤æ ‡ç­¾
   - é€‰æ‹©æ–‡ç« åˆ†ç±»
   - ä¿å­˜ä¸ºè‰ç¨¿æˆ–ç›´æ¥å‘å¸ƒ
6. å‘å¸ƒåè¿”å›æ–‡ç« ç®¡ç†é¡µé¢
```

## ğŸ› ï¸ æŠ€æœ¯å®ç°ç»†èŠ‚

### å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Next.js 16.1.6 (App Router)
- **è¯­è¨€**: TypeScript
- **UIç»„ä»¶**: è‡ªå®šä¹‰ç»„ä»¶åº“ (åŸºäºTailwind CSS)
- **å›¾æ ‡**: Lucide React
- **çŠ¶æ€ç®¡ç†**: React Hooks

### åç«¯æŠ€æœ¯æ ˆ
- **æ•°æ®åº“**: Supabase PostgreSQL
- **è®¤è¯**: Supabase Auth
- **API**: Next.js API Routes
- **æ•°æ®éªŒè¯**: æœåŠ¡ç«¯éªŒè¯

### æ•°æ®åº“è¡¨ç»“æ„
```sql
-- æ–‡ç« è¡¨ (å·²å­˜åœ¨çš„è¡¨)
articles (
  id UUID PRIMARY KEY,
  title VARCHAR(255) NOT NULL,
  content TEXT,
  summary TEXT,
  cover_image_url TEXT,
  author_id UUID REFERENCES auth.users(id),
  status VARCHAR(20) DEFAULT 'draft',
  tags JSONB,
  category_id UUID REFERENCES article_categories(id),
  view_count INTEGER DEFAULT 0,
  like_count INTEGER DEFAULT 0,
  publish_at TIMESTAMP WITH TIME ZONE,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
)

-- çƒ­ç‚¹é“¾æ¥æ± è¡¨ (å·²å­˜åœ¨çš„è¡¨)
hot_link_pool (
  id UUID PRIMARY KEY,
  -- ... å…¶ä»–å­—æ®µ
  article_id UUID, -- æ–°å¢å…³è”å­—æ®µ
  status VARCHAR(20) DEFAULT 'pending_review'
)
```

## ğŸ“‹ åŠŸèƒ½ç‰¹ç‚¹

### ç”¨æˆ·ä½“éªŒä¼˜åŒ–
- âœ… ç›´è§‚çš„æ“ä½œæŒ‰é’®å’Œå›¾æ ‡
- âœ… å®æ—¶ä¿å­˜çŠ¶æ€åé¦ˆ
- âœ… å®Œå–„çš„é”™è¯¯æç¤º
- âœ… å“åº”å¼è®¾è®¡é€‚é…ç§»åŠ¨ç«¯
- âœ… å¹³æ»‘çš„é¡µé¢è·³è½¬ä½“éªŒ

### å®‰å…¨æ€§ä¿éšœ
- âœ… åŸºäºRBACçš„æƒé™æ§åˆ¶
- âœ… CSRFä¿æŠ¤
- âœ… è¾“å…¥æ•°æ®éªŒè¯
- âœ… SQLæ³¨å…¥é˜²æŠ¤ï¼ˆé€šè¿‡Supabase ORMï¼‰

### æ€§èƒ½ä¼˜åŒ–
- âœ… æŒ‰éœ€åŠ è½½ç»„ä»¶
- âœ… å¼‚æ­¥æ•°æ®è·å–
- âœ… å›¾ç‰‡æ‡’åŠ è½½
- âœ… ç¼“å­˜å‹å¥½çš„APIè®¾è®¡

## ğŸ§ª æµ‹è¯•éªŒè¯

å·²æ‰§è¡Œå®Œæ•´çš„åŠŸèƒ½æµ‹è¯•ï¼ŒåŒ…æ‹¬ï¼š
- âœ… ç»„ä»¶æ¸²æŸ“æµ‹è¯•
- âœ… APIæ¥å£æµ‹è¯•
- âœ… è·¯ç”±è·³è½¬æµ‹è¯•
- âœ… æ•°æ®éªŒè¯æµ‹è¯•
- âœ… é”™è¯¯å¤„ç†æµ‹è¯•

## ğŸ“š ä½¿ç”¨æŒ‡å—

### ç®¡ç†å‘˜æ“ä½œæ­¥éª¤

1. **è®¿é—®å®¡æ ¸é¡µé¢**
   ```
   å¯¼èˆªåˆ°: ç®¡ç†åå° â†’ å†…å®¹å®¡æ ¸ â†’ é“¾æ¥å®¡æ ¸
   ```

2. **åˆ›å»ºè‰ç¨¿**
   - æ‰¾åˆ°æƒ³è¦ç¼–è¾‘çš„çƒ­ç‚¹é“¾æ¥
   - ç‚¹å‡»è¯¥è¡Œçš„"ç¼–è¾‘è‰ç¨¿"æŒ‰é’®ï¼ˆé“…ç¬”å›¾æ ‡ï¼‰
   - ç­‰å¾…ç³»ç»Ÿåˆ›å»ºè‰ç¨¿å¹¶è·³è½¬

3. **ç¼–è¾‘å†…å®¹**
   - ä¿®æ”¹æ–‡ç« æ ‡é¢˜
   - å®Œå–„æ–‡ç« æ­£æ–‡å†…å®¹
   - æ·»åŠ æ‘˜è¦æè¿°
   - ä¸Šä¼ åˆé€‚çš„å°é¢å›¾ç‰‡
   - è®¾ç½®ç›¸å…³æ ‡ç­¾
   - é€‰æ‹©æ–‡ç« åˆ†ç±»

4. **ä¿å­˜æˆ–å‘å¸ƒ**
   - **ä¿å­˜è‰ç¨¿**: ç‚¹å‡»"ä¿å­˜è‰ç¨¿"æŒ‰é’®ï¼Œç¨åå¯ç»§ç»­ç¼–è¾‘
   - **ç›´æ¥å‘å¸ƒ**: ç‚¹å‡»"å‘å¸ƒæ–‡ç« "æŒ‰é’®ï¼Œç«‹å³ä¸Šçº¿

### å¼€å‘è€…é›†æˆè¯´æ˜

```typescript
// è°ƒç”¨è‰ç¨¿åˆ›å»ºAPIç¤ºä¾‹
const createDraft = async (linkData) => {
  const response = await fetch('/api/admin/articles/drafts', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      linkId: linkData.id,
      title: linkData.title,
      content: linkData.description,
      // ... å…¶ä»–å­—æ®µ
    })
  })
  
  const result = await response.json()
  if (result.success) {
    // è·³è½¬åˆ°ç¼–è¾‘é¡µé¢
    router.push(`/admin/articles/edit/${result.articleId}`)
  }
}
```

## ğŸš€ éƒ¨ç½²è¯´æ˜

### ç¯å¢ƒè¦æ±‚
- Node.js 16+
- Next.js 16.1.6+
- Supabaseé¡¹ç›®é…ç½®

### éƒ¨ç½²æ­¥éª¤
1. ç¡®ä¿Supabaseæ•°æ®åº“è¡¨ç»“æ„å·²éƒ¨ç½²
2. é…ç½®ç¯å¢ƒå˜é‡ï¼ˆNEXT_PUBLIC_SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEYï¼‰
3. æ„å»ºå¹¶éƒ¨ç½²Next.jsåº”ç”¨
4. éªŒè¯APIæ¥å£å’Œé¡µé¢è·¯ç”±æ­£å¸¸å·¥ä½œ

## ğŸ“ˆ åç»­ä¼˜åŒ–å»ºè®®

1. **å¯Œæ–‡æœ¬ç¼–è¾‘å™¨**: é›†æˆæ›´å¼ºå¤§çš„ç¼–è¾‘å™¨å¦‚Quillæˆ–TinyMCE
2. **ç‰ˆæœ¬æ§åˆ¶**: æ·»åŠ æ–‡ç« ç‰ˆæœ¬å†å²åŠŸèƒ½
3. **åä½œç¼–è¾‘**: æ”¯æŒå¤šäººåŒæ—¶ç¼–è¾‘åŒä¸€æ–‡ç« 
4. **SEOä¼˜åŒ–**: æ·»åŠ SEOå…ƒæ•°æ®ç¼–è¾‘åŠŸèƒ½
5. **å¤šåª’ä½“æ”¯æŒ**: æ”¯æŒè§†é¢‘ã€éŸ³é¢‘ç­‰å¤šåª’ä½“å†…å®¹
6. **æ¨¡æ¿ç³»ç»Ÿ**: æä¾›å¸¸ç”¨æ–‡ç« æ¨¡æ¿

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰ä»»ä½•é—®é¢˜æˆ–éœ€è¦è¿›ä¸€æ­¥çš„åŠŸèƒ½æ‰©å±•ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿã€‚

---
**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2026å¹´2æœˆ14æ—¥  
**å¼€å‘è€…**: AIåŠ©æ‰‹  
**é¡¹ç›®**: FixCycleå†…å®¹ç®¡ç†ç³»ç»Ÿ